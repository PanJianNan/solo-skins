var Finding={init:function(){Util.killIE();this._initToc();$(".scroll-down").click(function(b){b.preventDefault();var c=$(this),e=$("html, body"),d=(c.attr("data-offset"))?c.attr("data-offset"):false,a=parseInt(d);e.stop(true,false).animate({scrollTop:($(this.hash).offset().top+a)},500)});$(".site-wrapper").click(function(a){if($(a.target).closest(".nav").length===0&&$("body").hasClass("nav-opened")&&!$(a.target).hasClass("icon-gotop")){$("body").removeClass("nav-opened").addClass("nav-closed")}});$("body").append('<a class="icon-gotop fn-none" href="javascript:Util.goTop()"></a><span class="menu-button icon-menu"><span class="word">Menu</span></span>');$(".menu-button").click(function(a){a.stopPropagation();$("body").toggleClass("nav-opened nav-closed")});$(window).scroll(function(){if($(window).scrollTop()>$(".main-header").height()){$(".icon-gotop").show()}else{$(".icon-gotop").hide()}})},_initToc:function(){if($(".b3-solo-list li").length===0){$(".nav .icon-list").hide();$(".nav .icon-sitemap").click();return}$(".nav ul:first").after($(".b3-solo-list"));$("body").toggleClass("nav-opened nav-closed");$(".nav .icon-list").show();Finding.tabNav("toc");var b=$(".article-body [id^=b3_solo_h]"),a=$(".b3-solo-list");$(window).scroll(function(f){if($(".b3-solo-list li").length===0){return false}var h=[];b.each(function(j){h.push({id:this.id,offsetTop:this.offsetTop})});var g=$(window).scrollTop();for(var e=0,c=h.length;e<c;e++){if(g<h[e].offsetTop+280){a.find("li").removeClass("current");var d=e>0?e-1:0;a.find('a[href="#'+h[d].id+'"]').parent().addClass("current");break}}if(g>=h[h.length-1].offsetTop+280){a.find("li").removeClass("current");a.find("li:last").addClass("current")}});$(window).scroll()},tabNav:function(a){$(".nav .current").removeClass("current");if(a==="toc"){$(".nav ul:first").hide();$(".nav ul:last").show();$(".icon-list").addClass("current")}else{$(".nav ul:first").show();$(".nav ul:last").hide();$(".icon-sitemap").addClass("current")}},share:function(){$(".share span").click(function(){var c=$(this).data("type");var e=encodeURIComponent($("title").text()),b=$(".post-title a").attr("href")?$(".post-title a").attr("href"):location,a=$(".post-content img:eq(0)").attr("src");var d={};d.tencent="http://share.v.t.qq.com/index.php?c=share&a=index&title="+e+"&url="+b+"&pic="+a;d.weibo="http://v.t.sina.com.cn/share/share.php?title="+e+"&url="+b+"&pic="+a;d.google="https://plus.google.com/share?url="+b;d.twitter="https://twitter.com/intent/tweet?status="+e+" "+b;window.open(d[c],"_blank","top=100,left=200,width=648,height=618")})}};Finding.init();